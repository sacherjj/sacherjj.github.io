<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Python: Iterators and Generators</title>
  <meta name="author" content="" />

  

  
  <meta name="description" content="My little piece of the web.">	
  

  <meta name="generator" content="Hugo 0.30.2" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="http://www.joesacher.com/css/animate.css" rel="stylesheet">

  
  
    <link href="http://www.joesacher.com/css/style.default.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="http://www.joesacher.com/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="http://www.joesacher.com/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="http://www.joesacher.com/img/apple-touch-icon.png" />

  




  <link rel="alternate" href="http://www.joesacher.com/index.xml" type="application/rss+xml" title="joesacher.com">

  
  <meta property="og:title" content="Python: Iterators and Generators" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/06/17/iterators-and-generators//" />
  <meta property="og:image" content="img/logo.png" />

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="http://www.joesacher.com/">
                    <img src="http://www.joesacher.com/img/logo.png" alt="Python: Iterators and Generators logo" class="hidden-xs hidden-sm">
                    <img src="http://www.joesacher.com/img/logo-small.png" alt="Python: Iterators and Generators logo" class="visible-xs visible-sm">
                    <span class="sr-only">Python: Iterators and Generators - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Python: Iterators and Generators</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">
                <div class="row">
                    
                    <div class="col-md-9" id="blog-post">
                        
                        <p class="text-muted mb-small text-right text-uppercase">
                            June 17, 2017<br/>
                            <i class="fa fa-clock-o"></i> 8 min. read</p>

                            <div id="post-content">
                                <p class="series_top_page">This post is part of the <a href="http://www.joesacher.com//series/python-tips">Python Tips</a> series.</p>
                                

<p>Iterators and Generators are two mechanisms for providing data to cycle through in Python.  The difference is if the data is already in memory and we iterate along it, or if we are generating it as we go.  The names actually make sense.  These turn out to be very similar and just differ in execution.  One is better if you already have a class.  The other is a little simpler.</p>

<h3 id="iterators">Iterators</h3>

<p>First we will look at how Python gives an iterator interface to built in objects, such as list and string.</p>

<p>Both of the <code>for</code> loops below will print the same thing.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> [<span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>, <span style="color:#f60">4</span>, <span style="color:#f60">5</span>, <span style="color:#f60">6</span>]:
    <span style="color:#069;font-weight:bold">print</span>(i)

<span style="color:#069;font-weight:bold">for</span> c <span style="color:#000;font-weight:bold">in</span> <span style="color:#c30"></span><span style="color:#c30">&#39;123456&#39;</span>:
    <span style="color:#069;font-weight:bold">print</span>(c)</code></pre></div>

<p>If we use the <code>dir</code> function to take a look at the list object, we get this:</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#555">=</span> [<span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>, <span style="color:#f60">4</span>, <span style="color:#f60">5</span>, <span style="color:#f60">6</span>]

<span style="color:#069;font-weight:bold">print</span>(<span style="color:#366">dir</span>(l))</code></pre></div>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">[&#39;__add__&#39;, &#39;__class__&#39;, &#39;__contains__&#39;, &#39;__delattr__&#39;, &#39;__delitem__&#39;, &#39;__dir__&#39;, &#39;__doc__&#39;, &#39;__eq__&#39;, &#39;__format__&#39;, &#39;__ge__&#39;, &#39;__getattribute__&#39;, &#39;__getitem__&#39;, &#39;__gt__&#39;, &#39;__hash__&#39;, &#39;__iadd__&#39;, &#39;__imul__&#39;, &#39;__init__&#39;, &#39;__init_subclass__&#39;, &#39;__iter__&#39;, &#39;__le__&#39;, &#39;__len__&#39;, &#39;__lt__&#39;, &#39;__mul__&#39;, &#39;__ne__&#39;, &#39;__new__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__reversed__&#39;, &#39;__rmul__&#39;, &#39;__setattr__&#39;, &#39;__setitem__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;append&#39;, &#39;clear&#39;, &#39;copy&#39;, &#39;count&#39;, &#39;extend&#39;, &#39;index&#39;, &#39;insert&#39;, &#39;pop&#39;, &#39;remove&#39;, &#39;reverse&#39;, &#39;sort&#39;]</code></pre></div>

<p>If we do the same on the string, we get this:</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#555">=</span> <span style="color:#c30"></span><span style="color:#c30">&#39;123456&#39;</span>

<span style="color:#069;font-weight:bold">print</span>(<span style="color:#366">dir</span>(s))</code></pre></div>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">[&#39;__add__&#39;, &#39;__class__&#39;, &#39;__contains__&#39;, &#39;__delattr__&#39;, &#39;__dir__&#39;, &#39;__doc__&#39;, &#39;__eq__&#39;, &#39;__format__&#39;, &#39;__ge__&#39;, &#39;__getattribute__&#39;, &#39;__getitem__&#39;, &#39;__getnewargs__&#39;, &#39;__gt__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__init_subclass__&#39;, &#39;__iter__&#39;, &#39;__le__&#39;, &#39;__len__&#39;, &#39;__lt__&#39;, &#39;__mod__&#39;, &#39;__mul__&#39;, &#39;__ne__&#39;, &#39;__new__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__rmod__&#39;, &#39;__rmul__&#39;, &#39;__setattr__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;capitalize&#39;, &#39;casefold&#39;, &#39;center&#39;, &#39;count&#39;, &#39;encode&#39;, &#39;endswith&#39;, &#39;expandtabs&#39;, &#39;find&#39;, &#39;format&#39;, &#39;format_map&#39;, &#39;index&#39;, &#39;isalnum&#39;, &#39;isalpha&#39;, &#39;isdecimal&#39;, &#39;isdigit&#39;, &#39;isidentifier&#39;, &#39;islower&#39;, &#39;isnumeric&#39;, &#39;isprintable&#39;, &#39;isspace&#39;, &#39;istitle&#39;, &#39;isupper&#39;, &#39;join&#39;, &#39;ljust&#39;, &#39;lower&#39;, &#39;lstrip&#39;, &#39;maketrans&#39;, &#39;partition&#39;, &#39;replace&#39;, &#39;rfind&#39;, &#39;rindex&#39;, &#39;rjust&#39;, &#39;rpartition&#39;, &#39;rsplit&#39;, &#39;rstrip&#39;, &#39;split&#39;, &#39;splitlines&#39;, &#39;startswith&#39;, &#39;strip&#39;, &#39;swapcase&#39;, &#39;title&#39;, &#39;translate&#39;, &#39;upper&#39;, &#39;zfill&#39;]</code></pre></div>

<p>This is a little more noise than I needed and I could have just explained that <code>__iter__</code> is the dunder method that gives you an iterator.  But I think it is important to show you how to drill down on Python objects with <code>dir</code> if you want to dig deeper and poke around.</p>

<p>As I mentioned, both of these share the important methods for iterating: <code>__iter__</code>.  This will yield an iterator object.  This object will have the dunder method <code>__next__</code> which gives you values until it runs out.</p>

<h3 id="iterator-operation">Iterator Operation</h3>

<p>Lets manually iterate and see what happens.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#555">=</span> <span style="color:#c30"></span><span style="color:#c30">&#39;123&#39;</span>

iter_obj <span style="color:#555">=</span> s<span style="color:#555">.</span>__iter__()
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())</code></pre></div>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">1
2
3
Traceback (most recent call last):
  File &#34;C:/Users/micro/repositories/scratchpad/iterators-generators.py&#34;, line 15, in &lt;module&gt;
    print(iter_obj.__next__())
StopIteration

Process finished with exit code 1</code></pre></div>

<p>I only had 3 items in the string to iterate, but called <code>__next__</code> 4 times.  The last call showed the method that Python uses to stop iteration, by raising a <code>StopIteration</code> exception.  Much of Python is controlled with exceptions as terminating events.</p>

<h3 id="creating-an-iterator">Creating an Iterator</h3>

<p>As with many examples, we are replacing already present functionality for an easy example.  However, as you start building more complex data structures, you will see how you can integrate this into your object.</p>

<p>So we initialize the object with the data we will iterate on.  <code>__iter__</code> sets position to -1 (as I will increment first thing) and sends a reference to itself.  I should note that while I am returning <code>self</code> as the iterator object and thus can have the <code>__next__</code> dunder in the same object, this isn&rsquo;t always the case.</p>

<p><code>__next__</code> will raise a <code>StopIteration</code> exception if we are at the end of the list, based on <code>len</code>.  Otherwise, it will return the current item.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">MyIterator</span>(<span style="color:#366">object</span>):
    <span style="color:#c30"></span><span style="color:#c30">&#34;&#34;&#34;
</span><span style="color:#c30">    An example of an iterator over list, to show iterator basics
</span><span style="color:#c30">    &#34;&#34;&#34;</span>
    <span style="color:#069;font-weight:bold">def</span> __init__(self, my_list):
        self<span style="color:#555">.</span>_my_list <span style="color:#555">=</span> my_list

    <span style="color:#069;font-weight:bold">def</span> __iter__(self):
        self<span style="color:#555">.</span>_pos <span style="color:#555">=</span> <span style="color:#555">-</span><span style="color:#f60">1</span>
        <span style="color:#069;font-weight:bold">return</span> self

    <span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">__next__</span>(self):
        self<span style="color:#555">.</span>_pos <span style="color:#555">+=</span> <span style="color:#f60">1</span>
        <span style="color:#069;font-weight:bold">if</span> self<span style="color:#555">.</span>_pos <span style="color:#555">&gt;=</span> <span style="color:#366">len</span>(self<span style="color:#555">.</span>_my_list):
            <span style="color:#069;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">StopIteration</span>
        <span style="color:#069;font-weight:bold">return</span> self<span style="color:#555">.</span>_my_list[self<span style="color:#555">.</span>_pos]

<span style="color:#069;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> MyIterator([<span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>]):
    <span style="color:#069;font-weight:bold">print</span>(i)</code></pre></div>

<p>Pretty simple right?</p>

<p>I should note that in Python 2, the <code>__next__</code> method was <code>next</code>.  This made for possible collisions when this name was wanted for something other than iteration.  If you run into older code that has this, or code that has <code>__next__</code> just calling <code>next</code> for Python 3 compatibility, you now know what is going on.</p>

<h3 id="generators">Generators</h3>

<p>Generators are easier to build than iterators, but have a limitation.  Once they are consumed, they cannot be rewound.  Iterating a list can happen multiple times.  Iterating a generator is a one shot deal.</p>

<p>The creation of a generator doesn&rsquo;t require defining a class and implementing the dunder methods for an iterator.   The special sauce is in the <code>yield</code> keyword, which we saw before in context generator creation.</p>

<p>Many of you have used the <code>range</code> function in a <code>for</code> loop.  In Python 3, this is a generator function.  Lets create a range function of our own and see how this would work.</p>

<p>Starting out we will ignore many of the options in range.  I store the <code>start</code> and <code>step</code> values, and then loop while <code>start</code> is less than <code>end</code>.  Each time I  <code>yield</code> the current <code>start</code> value.  This replicates the call to <code>range</code> with one argument.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">my_simple_range</span>(end):
    start <span style="color:#555">=</span> <span style="color:#f60">0</span>
    step <span style="color:#555">=</span> <span style="color:#f60">1</span>
    <span style="color:#069;font-weight:bold">while</span> start <span style="color:#555">&lt;</span> end:
        <span style="color:#069;font-weight:bold">yield</span> start
        start <span style="color:#555">+=</span> step

iter_obj <span style="color:#555">=</span> my_simple_range(<span style="color:#f60">3</span>)
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())
<span style="color:#069;font-weight:bold">print</span>(iter_obj<span style="color:#555">.</span>__next__())</code></pre></div>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Traceback (most recent call last):
0
1
2
  File &#34;C:/Users/micro/repositories/scratchpad/iterators-generators.py&#34;, line 81, in &lt;module&gt;
    print(iter_obj.__next__())
StopIteration</code></pre></div>

<p>That output looks familiar, doesn&rsquo;t it?  This behaves exactly like an iterator with the same termination condition.  This happens because both are exposing the <code>__next__</code> method.  The generator just lets Python do more of the behind the scenes work for you.</p>

<p>What if we wanted to implement a full range with arguments like <code>range(start, stop, step)</code>?</p>

<p>We can do that.  However, we need to understand that this can count up and down, so we need to handle all cases.  This is a little complicated.  I&rsquo;ll do the right thing and make some tests first.</p>

<h3 id="tests-first">Tests First</h3>

<p>To test, we want to compare an iterator to a static list.  Luckily for us, the <code>list()</code> creation can consume the iterator.  This is a way to cache the values of a generator.</p>

<p>This is also a good opportunity to explain more advanced pytest functionality and show how parameters can save time making test cases.</p>

<p>The first test function is using the pytest <code>parametrize</code> capability.  (That still seems like a weird word to me, but the functionality is awesome.)  I give a string with argument names comma delimited.  Then I give a list of tuples for the arguments.</p>

<p>I&rsquo;m using <code>arguments</code> to hold a tuple of my arguments to <code>my_range</code>.  This allows me to send various combinations.  The <code>expected</code> argument is a list of what I would get from the iterator.  You can see in the assert that I&rsquo;m using <code>list()</code> to consume the iterator for comparison.</p>

<p>In this test, I&rsquo;m looking for functionality and not sending illegal count of arguments (that is the second test function.)</p>

<p>For <code>test_my_range_operation</code>, pytest will call the function 8 times.  Once for each parameter.  I could write 8 separate calls or complete testing functions, but that would just be annoying and offer no benefit.</p>

<p>The <code>test_my_range_bad_argument_counts</code> function is to assure that we provide a <code>TypeError</code> unless argument count is between 1 and 3 inclusive.  This uses the <code>pytest.raises</code> context manager for holding code that generates the exception.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">import</span> <span style="color:#0cf;font-weight:bold">pytest</span>

<span style="color:#99f">@pytest.mark.parametrize</span>(<span style="color:#c30"></span><span style="color:#c30">&#34;arguments,expected&#34;</span>, [
    ((<span style="color:#f60">5</span>, ), [<span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>, <span style="color:#f60">4</span>]),
    ((<span style="color:#f60">0</span>, ), []),
    ((<span style="color:#555">-</span><span style="color:#f60">3</span>, ), []),
    ((<span style="color:#f60">0</span>, <span style="color:#f60">4</span>), [<span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>]),
    ((<span style="color:#f60">3</span>, <span style="color:#f60">1</span>), []),
    ((<span style="color:#f60">3</span>, <span style="color:#f60">6</span>), [<span style="color:#f60">3</span>, <span style="color:#f60">4</span>, <span style="color:#f60">5</span>]),
    ((<span style="color:#f60">0</span>, <span style="color:#f60">5</span>, <span style="color:#f60">1</span>), [<span style="color:#f60">0</span>, <span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">3</span>, <span style="color:#f60">4</span>]),
    ((<span style="color:#f60">5</span>, <span style="color:#f60">0</span>, <span style="color:#555">-</span><span style="color:#f60">1</span>), [<span style="color:#f60">5</span>, <span style="color:#f60">4</span>, <span style="color:#f60">3</span>, <span style="color:#f60">2</span>, <span style="color:#f60">1</span>])
])
<span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">test_my_range_operation</span>(arguments, expected):
    <span style="color:#09f;font-style:italic"># expanding arguments tuple to values for the call and consuming the iterator with list().</span>
    <span style="color:#069;font-weight:bold">assert</span> <span style="color:#366">list</span>(my_range(<span style="color:#555">*</span>arguments)) <span style="color:#555">==</span> expected

<span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">test_my_range_bad_argument_counts</span>():
    <span style="color:#069;font-weight:bold">with</span> pytest<span style="color:#555">.</span>raises(<span style="color:#c00;font-weight:bold">TypeError</span>):
        my_range()  <span style="color:#09f;font-style:italic"># Requires more than 0 arguments</span>
    <span style="color:#069;font-weight:bold">with</span> pytest<span style="color:#555">.</span>raises(<span style="color:#c00;font-weight:bold">TypeError</span>):
        my_range(<span style="color:#f60">1</span>, <span style="color:#f60">2</span>, <span style="color:#f60">1</span>, <span style="color:#f60">5</span>)  <span style="color:#09f;font-style:italic"># Requires less than 4 arguments</span></code></pre></div>

<p>When we run these on a shell <code>my_range</code> all will fail.  Now we can code an implementation of <code>my_range</code> that passes the tests.</p>

<h3 id="my-range-implementation">my_range implementation</h3>

<p>I&rsquo;m using <code>*args</code> and parsing, because the arguments change positions depending on number.</p>

<p>We start with raising <code>TypeError</code> for argument len outside of 1-3.</p>

<p>Next we are initializing <code>start</code> and <code>step</code> to defaults, because we may never receive them.  Then set <code>step</code> if available.  Set <code>start</code> and <code>end</code> if available, else just <code>end</code>.</p>

<p>Our <code>while</code> is a little different, because we need <code>start &gt; end</code> only if <code>step</code> is positive.  Otherwise, we need <code>start &lt; end</code> if <code>step</code> is negative.  This will also fall through is step is zero (instead of causing an infinite loop).</p>

<p>All that is left is to <code>yield start</code> and then increment by <code>step</code>.</p>

<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">my_range</span>(<span style="color:#555">*</span>args):
    <span style="color:#c30"></span><span style="color:#c30">&#34;&#34;&#34;
</span><span style="color:#c30">    Generate function to return a range of numbers
</span><span style="color:#c30">
</span><span style="color:#c30">    :param args: if one argument, use as upper limit with 0 start.
</span><span style="color:#c30">                 if two arguments, use as lower, upper limits.
</span><span style="color:#c30">                 if three arguments, use as lower, upper and step.
</span><span style="color:#c30">    :yields: value
</span><span style="color:#c30">    &#34;&#34;&#34;</span>
    arg_len <span style="color:#555">=</span> <span style="color:#366">len</span>(args)
    <span style="color:#069;font-weight:bold">if</span> arg_len <span style="color:#555">&gt;</span> <span style="color:#f60">3</span>:
        <span style="color:#069;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">TypeError</span>(<span style="color:#c30"></span><span style="color:#c30">&#39;{} arguments given and a max of 3 are allowed.&#39;</span><span style="color:#555">.</span>format(arg_len))
    <span style="color:#069;font-weight:bold">if</span> arg_len <span style="color:#555">==</span> <span style="color:#f60">0</span>:
        <span style="color:#069;font-weight:bold">raise</span> <span style="color:#c00;font-weight:bold">TypeError</span>(<span style="color:#c30"></span><span style="color:#c30">&#39;No arguments given and at least 1 is required.&#39;</span>)

    start <span style="color:#555">=</span> <span style="color:#f60">0</span>
    step <span style="color:#555">=</span> <span style="color:#f60">1</span>
    <span style="color:#069;font-weight:bold">if</span> arg_len <span style="color:#555">==</span> <span style="color:#f60">3</span>:
        step <span style="color:#555">=</span> args[<span style="color:#f60">2</span>]
    <span style="color:#069;font-weight:bold">if</span> <span style="color:#366">len</span>(args) <span style="color:#555">&gt;</span> <span style="color:#f60">1</span>:
        start <span style="color:#555">=</span> args[<span style="color:#f60">0</span>]
        end <span style="color:#555">=</span> args[<span style="color:#f60">1</span>]
    <span style="color:#069;font-weight:bold">else</span>:
        end <span style="color:#555">=</span> args[<span style="color:#f60">0</span>]

    <span style="color:#09f;font-style:italic"># Need to handle positive and negative steps</span>
    <span style="color:#069;font-weight:bold">while</span> (start <span style="color:#555">&lt;</span> end <span style="color:#000;font-weight:bold">and</span> step <span style="color:#555">&gt;</span> <span style="color:#f60">0</span>) <span style="color:#000;font-weight:bold">or</span> (start <span style="color:#555">&gt;</span> end <span style="color:#000;font-weight:bold">and</span> step <span style="color:#555">&lt;</span> <span style="color:#f60">0</span>):
        <span style="color:#069;font-weight:bold">yield</span> start
        start <span style="color:#555">+=</span> step</code></pre></div>

<p>This passes all our tests correctly.</p>

<p>I wondered how Python handles a <code>step</code> of zero.  When calling <code>range(1, 4, 0)</code> I get a <code>ValueError</code> stating that <code>step can't be zero</code>, instead of our silent fail.  That would be easy to add, but otherwise we seem to have a decent version of <code>range</code>.  And hopefully, you now know how iterators and generator function work.</p>

                                <hr/>
        <p>Part 7 of 8
            in the <b>Python Tips</b> series.</p>
        <p><a href="http://www.joesacher.com/blog/2017/04/08/python-starting-tips/"><i class="fa fa-angle-left"></i>Series Start<i class="fa fa-angle-right"></i></a>
                     |
            <a href="http://www.joesacher.com/blog/2017/06/10/python-context-managers/"><i class="fa fa-angle-double-left"></i>Python: Context Managers</a>
                 |
        <a href="http://www.joesacher.com/blog/2017/06/24/dunder-name-main/">Python: Dunder name<i class="fa fa-angle-double-right"></i></a></p>
                             </div>
                        
                        
                        <div id="comments"><div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "joesachercom" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
                        

                    </div>
                    
                    

                    
                    <div class="col-md-3">
                        
<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            <li><a href="http://www.joesacher.com/categories/cooking" class="text-uppercase">cooking (2)</a>
            </li><li><a href="http://www.joesacher.com/categories/how-to" class="text-uppercase">how-to (5)</a>
            </li><li><a href="http://www.joesacher.com/categories/personal" class="text-uppercase">personal (9)</a>
            </li><li><a href="http://www.joesacher.com/categories/reviews" class="text-uppercase">reviews (14)</a>
            </li><li><a href="http://www.joesacher.com/categories/tech" class="text-uppercase">tech (39)</a>
            </li><li><a href="http://www.joesacher.com/categories/trans-am" class="text-uppercase">trans-am (48)</a>
            </li>
        </ul>
    </div>
</div>

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Blog Series</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            <li><a href="http://www.joesacher.com/series/burn-in-cart" class="text-uppercase">burn-in-cart (3)</a>
            </li><li><a href="http://www.joesacher.com/series/hugo" class="text-uppercase">hugo (4)</a>
            </li><li><a href="http://www.joesacher.com/series/python-tips" class="text-uppercase">python-tips (8)</a>
            </li><li><a href="http://www.joesacher.com/series/python-to-rust" class="text-uppercase">python-to-rust (4)</a>
            </li><li><a href="http://www.joesacher.com/series/trans-am" class="text-uppercase">trans-am (48)</a>
            </li>
        </ul>
    </div>
</div>
<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            <li><a href="http://www.joesacher.com/tags/android"><i class="fa fa-tags"></i> android</a>
            </li><li><a href="http://www.joesacher.com/tags/avr"><i class="fa fa-tags"></i> avr</a>
            </li><li><a href="http://www.joesacher.com/tags/bicycle"><i class="fa fa-tags"></i> bicycle</a>
            </li><li><a href="http://www.joesacher.com/tags/bicycle-touring"><i class="fa fa-tags"></i> bicycle-touring</a>
            </li><li><a href="http://www.joesacher.com/tags/book-review"><i class="fa fa-tags"></i> book-review</a>
            </li><li><a href="http://www.joesacher.com/tags/calendars"><i class="fa fa-tags"></i> calendars</a>
            </li><li><a href="http://www.joesacher.com/tags/cooking"><i class="fa fa-tags"></i> cooking</a>
            </li><li><a href="http://www.joesacher.com/tags/cycling"><i class="fa fa-tags"></i> cycling</a>
            </li><li><a href="http://www.joesacher.com/tags/dessert"><i class="fa fa-tags"></i> dessert</a>
            </li><li><a href="http://www.joesacher.com/tags/dry-bag"><i class="fa fa-tags"></i> dry-bag</a>
            </li><li><a href="http://www.joesacher.com/tags/ebooks"><i class="fa fa-tags"></i> ebooks</a>
            </li><li><a href="http://www.joesacher.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li><li><a href="http://www.joesacher.com/tags/fiction"><i class="fa fa-tags"></i> fiction</a>
            </li><li><a href="http://www.joesacher.com/tags/film-making"><i class="fa fa-tags"></i> film-making</a>
            </li><li><a href="http://www.joesacher.com/tags/google"><i class="fa fa-tags"></i> google</a>
            </li><li><a href="http://www.joesacher.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li><li><a href="http://www.joesacher.com/tags/ham-radio"><i class="fa fa-tags"></i> ham-radio</a>
            </li><li><a href="http://www.joesacher.com/tags/hardware"><i class="fa fa-tags"></i> hardware</a>
            </li><li><a href="http://www.joesacher.com/tags/hugo"><i class="fa fa-tags"></i> hugo</a>
            </li><li><a href="http://www.joesacher.com/tags/humor"><i class="fa fa-tags"></i> humor</a>
            </li><li><a href="http://www.joesacher.com/tags/hvac"><i class="fa fa-tags"></i> hvac</a>
            </li><li><a href="http://www.joesacher.com/tags/inspiration"><i class="fa fa-tags"></i> inspiration</a>
            </li><li><a href="http://www.joesacher.com/tags/javascript"><i class="fa fa-tags"></i> javascript</a>
            </li><li><a href="http://www.joesacher.com/tags/lathes"><i class="fa fa-tags"></i> lathes</a>
            </li><li><a href="http://www.joesacher.com/tags/marriage"><i class="fa fa-tags"></i> marriage</a>
            </li><li><a href="http://www.joesacher.com/tags/mock"><i class="fa fa-tags"></i> mock</a>
            </li><li><a href="http://www.joesacher.com/tags/navigation"><i class="fa fa-tags"></i> navigation</a>
            </li><li><a href="http://www.joesacher.com/tags/nonfiction"><i class="fa fa-tags"></i> nonfiction</a>
            </li><li><a href="http://www.joesacher.com/tags/pannier"><i class="fa fa-tags"></i> pannier</a>
            </li><li><a href="http://www.joesacher.com/tags/personal"><i class="fa fa-tags"></i> personal</a>
            </li><li><a href="http://www.joesacher.com/tags/photography"><i class="fa fa-tags"></i> photography</a>
            </li><li><a href="http://www.joesacher.com/tags/pizza"><i class="fa fa-tags"></i> pizza</a>
            </li><li><a href="http://www.joesacher.com/tags/podcasts"><i class="fa fa-tags"></i> podcasts</a>
            </li><li><a href="http://www.joesacher.com/tags/programming"><i class="fa fa-tags"></i> programming</a>
            </li><li><a href="http://www.joesacher.com/tags/projects"><i class="fa fa-tags"></i> projects</a>
            </li><li><a href="http://www.joesacher.com/tags/proposal"><i class="fa fa-tags"></i> proposal</a>
            </li><li><a href="http://www.joesacher.com/tags/pytest"><i class="fa fa-tags"></i> pytest</a>
            </li><li><a href="http://www.joesacher.com/tags/python"><i class="fa fa-tags"></i> python</a>
            </li><li><a href="http://www.joesacher.com/tags/raspberry-pi"><i class="fa fa-tags"></i> raspberry-pi</a>
            </li><li><a href="http://www.joesacher.com/tags/recipe"><i class="fa fa-tags"></i> recipe</a>
            </li><li><a href="http://www.joesacher.com/tags/recumbent"><i class="fa fa-tags"></i> recumbent</a>
            </li><li><a href="http://www.joesacher.com/tags/rust"><i class="fa fa-tags"></i> rust</a>
            </li><li><a href="http://www.joesacher.com/tags/safety"><i class="fa fa-tags"></i> safety</a>
            </li><li><a href="http://www.joesacher.com/tags/sewing"><i class="fa fa-tags"></i> sewing</a>
            </li><li><a href="http://www.joesacher.com/tags/testing"><i class="fa fa-tags"></i> testing</a>
            </li><li><a href="http://www.joesacher.com/tags/touchpad"><i class="fa fa-tags"></i> touchpad</a>
            </li><li><a href="http://www.joesacher.com/tags/touring"><i class="fa fa-tags"></i> touring</a>
            </li><li><a href="http://www.joesacher.com/tags/video"><i class="fa fa-tags"></i> video</a>
            </li><li><a href="http://www.joesacher.com/tags/web"><i class="fa fa-tags"></i> web</a>
            </li><li><a href="http://www.joesacher.com/tags/webos"><i class="fa fa-tags"></i> webos</a>
            </li><li><a href="http://www.joesacher.com/tags/windows-phone"><i class="fa fa-tags"></i> windows-phone</a>
            </li><li><a href="http://www.joesacher.com/tags/wiundows"><i class="fa fa-tags"></i> wiundows</a>
            </li><li><a href="http://www.joesacher.com/tags/woodworking"><i class="fa fa-tags"></i> woodworking</a>
            </li><li><a href="http://www.joesacher.com/tags/writing"><i class="fa fa-tags"></i> writing</a>
            </li>
        </ul>
    </div>
</div>

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        






<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2002-2017 - Joe Sacher - All Rights Reserved.</p>
            
            <p class="pull-right">A modified version of 
              template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>
              
              ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>




    </div>
    

    



<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-3718160-3', 'auto');
ga('send', 'pageview');
</script>


<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="http://www.joesacher.com/js/hpneo.gmaps.js"></script>
<script src="http://www.joesacher.com/js/gmaps.init.js"></script>
<script src="http://www.joesacher.com/js/front.js"></script>


<script src="http://www.joesacher.com/js/owl.carousel.min.js"></script>




  </body>
</html>
