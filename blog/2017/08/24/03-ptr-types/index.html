<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Python to Rust: Types</title>
  <meta name="author" content="" />

  

  
  <meta name="description" content="Comparing Python&#39;s Dynamic and Strong-ish type system with Rust&#39;s static and very strong type system.  Covering the scalar and a few of the complex types.">
  

  <meta name="generator" content="Hugo 0.25.1" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="http://www.joesacher.com/css/animate.css" rel="stylesheet">

  
  
    <link href="http://www.joesacher.com/css/style.default.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="http://www.joesacher.com/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="http://www.joesacher.com/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="http://www.joesacher.com/img/apple-touch-icon.png" />

  




  <link rel="alternate" href="http://www.joesacher.com/index.xml" type="application/rss+xml" title="joesacher.com">

  
  <meta property="og:title" content="Python to Rust: Types" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/08/24/03-ptr-types//" />
  <meta property="og:image" content="img/logo.png" />

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="http://www.joesacher.com/">
                    <img src="http://www.joesacher.com/img/logo.png" alt="Python to Rust: Types logo" class="hidden-xs hidden-sm">
                    <img src="http://www.joesacher.com/img/logo-small.png" alt="Python to Rust: Types logo" class="visible-xs visible-sm">
                    <span class="sr-only">Python to Rust: Types - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Python to Rust: Types</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">
                <div class="row">
                    
                    <div class="col-md-9" id="blog-post">
                        
                        <p class="text-muted mb-small text-right text-uppercase">
                            August 24, 2017<br/>
                            <i class="fa fa-clock-o"></i> 13 min. read</p>

                            <div id="post-content">
                                <p class="series_top_page">This post is part of the <a href="http://www.joesacher.com//series/python-to-rust">Python to Rust</a> series.</p>
                                

<p>Python is a dynamically typed language.  It is a somewhat strong typed language, with some edge cases.  Rust is a static and very strong typed language.  What do these mean and how does it affect you?</p>

<p>In a strong, dynamic typed language, it is the object that holds the type information, not the variable.  In Python the strong typing means that we would not expect a string to become a number, without some work from us.  When comparing this with JavaScript, which is both dynamic and weakly typed, we see behaviors we might not expect.</p>

<h3 id="strong-vs-weak">Strong vs Weak</h3>

<p>Python does not support adding a number and string:</p>

<pre><code>&gt;&gt;&gt; 1 + &quot;1&quot;
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: unsupported operand type(s) for +: 'int' and 'str'
</code></pre>

<p>If we try that in JavaScript, we may not know how the interpreter will automatically convert the values.  When using ScratchPad in Firefox, I got the following:</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>    <span style="color: #FF6600">1</span> <span style="color: #555555">+</span> <span style="color: #CC3300">&quot;1&quot;</span>;
    
    <span style="color: #0099FF; font-style: italic">/*</span>
<span style="color: #0099FF; font-style: italic">    11</span>
<span style="color: #0099FF; font-style: italic">    */</span>
</pre></div>


<p>So JavaScript converted the number <code>1</code> to a string <code>&quot;1&quot;</code> and then appended the strings together.  Since this happened automatically, we call the typing weak.  It does not warn you before types change.</p>

<p>As a side note: If you have not seen the <a href="https://www.destroyallsoftware.com/talks/wat">Wat lightning talk by Gary Bernhardt</a> on crazy automatic type conversions, you need to take 4 minutes and enjoy it.</p>

<p>There is no complete definition of what &ldquo;strong&rdquo; means with referring to types.  So it is a grouping with differences between those within groups.</p>

<p>One notable place where Python is not strongly typed is that everything evaluates to a boolean for use in <code>while</code>, <code>if</code> or other similar locations.  This is a common shortcut for doing things if a list exists and is not empty.  It is one of the time savers in Pythonic code, but it does open up bugs when you don&rsquo;t fully think about how truthness operates.</p>

<p>There is functionality in Rust similar to this, but is explicit.  See discussion of the boolean type below.</p>

<p>If we try to do this same addition in Rust, we can&rsquo;t compile.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{}&quot;</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">1</span><span style="color: #bbbbbb"> </span><span style="color: #555555">+</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;1&quot;</span>);<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>The compiler complains to us, much like the Python interpreter did while running.</p>

<pre><code>error[E0277]: the trait bound `{integer}: std::ops::Add&lt;&amp;str&gt;` is not satisfied
 --&gt; src/main.rs:2:22
  |
2 |     println!(&quot;{}&quot;, 1 + &quot;1&quot;);
  |                      ^ no implementation for `{integer} + &amp;str`
  |
  = help: the trait `std::ops::Add&lt;&amp;str&gt;` is not implemented for `{integer}`
</code></pre>

<p>Rust has traits that can be shared between types.  The compiler is complaining that <code>std::ops::Add&lt;&amp;str&gt;</code> (the add functionality for integer) is not implemented for type <code>&amp;str</code> (one of the two string types in Rust).  In Python language, this would be similar to saying the <code>__add__</code> method for a given type isn&rsquo;t implemented.</p>

<p>You will generate many compile errors starting out.  Much work has been done to make these errors understandable and often suggesting fixes.</p>

<h3 id="static-vs-dynamic">Static vs Dynamic</h3>

<p>Python strong types are associated with the object, not the variable.  This is perfectly valid Python:</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>count <span style="color: #555555">=</span> <span style="color: #FF6600">12</span>         <span style="color: #0099FF; font-style: italic"># Strong Number Type</span>
count <span style="color: #555555">=</span> <span style="color: #CC3300">&quot;Dracula&quot;</span>  <span style="color: #0099FF; font-style: italic"># Strong String Type</span>
</pre></div>


<p>Rust looks like it can do the same thing at first.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">12</span>;<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Dracula&quot;</span>;<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>This compiles.  Rust complains about the two unused variables we created.  Unlike Python, Rust did not reuse the first <code>count</code>.  It threw it away when we created the second <code>count</code> equal to <code>&quot;Dracula&quot;</code>.  The <code>let</code> keyword is used only for variable definition.  If assigning to a variable already defined, a normal <code>var = value;</code> is used.</p>

<p>In the follow code, we try to reassign count.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">12</span>;<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Dracula&quot;</span>;<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>We have two problems, but only get the first one from the compiler.</p>

<pre><code>error[E0308]: mismatched types
 --&gt; src/main.rs:3:13
  |
3 |     count = &quot;Dracula&quot;;
  |             ^^^^^^^^^ expected integral variable, found reference
  |
  = note: expected type `{integer}`
             found type `&amp;'static str`
  = help: here are some functions which might fulfill your needs:
          - .len()
</code></pre>

<p>We have mismatched types.  It tells you the type it expected <code>{integer}</code> and the type you gave it <code>&amp;'static str</code>.   The compiler won&rsquo;t allow non-compatible data to be stored there.</p>

<p>Note: the <code>'static</code> indicates that this will live for the life of the program.  So location where <code>&quot;Dracula&quot;</code> is stored will be static for the life of the program.  This is related to both Strings and Lifetimes that are coming later.  You will continue to notice that Rust has much lower level control over data structures than Python.</p>

<p>We have a help message that gives us possible things we missed.  Maybe we wanted to set it equal to the length of the string, with the <code>.len()</code> method.   These won&rsquo;t always say what you wanted to do, but a surprising number of times it is exactly right.</p>

<h3 id="mutability">Mutability</h3>

<p>Let&rsquo;s go ahead and use the <code>len()</code> method to get a valid integer to assign.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">12</span>;<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Dracula&quot;</span>.len();<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<pre><code>error[E0384]: re-assignment of immutable variable `count`
 --&gt; src/main.rs:3:5
  |
2 |     let count = 12;
  |         ----- first assignment to `count`
3 |     count = &quot;Dracula&quot;.len();
  |     ^^^^^^^^^^^^^^^^^^^^^^^ re-assignment of immutable variable
</code></pre>

<p>We no longer get the type error.  But now we are trying to re-assign the value of an immutable variable.  (This is the second error I mentioned above.)</p>

<p>Mutable means changeable and immutable means unchangeable.  In Rust, variables are immutable by default.  You only allow changes if you need to.  In this code, <code>let count = 12;</code> means that within this scope, <code>count</code> can never equal anything other than <code>12</code>.</p>

<p>This should be familiar to what you have seen in Python for the immutable tuple.  Once a tuple is created, it cannot be changed.  You would need to generate a new tuple with the new data, as we did at first with the new <code>let count</code> variable assignment.</p>

<p>We tell Rust that the variable is mutable with the <code>mut</code> keyword.  I also added calls to the <code>println!</code> macro to display the two values as they change.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span><span style="color: #006699; font-weight: bold">mut</span><span style="color: #bbbbbb"> </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">12</span>;<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{}&quot;</span>,<span style="color: #bbbbbb"> </span>count);<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Dracula&quot;</span>.len();<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{}&quot;</span>,<span style="color: #bbbbbb"> </span>count);<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>Output:</p>

<pre><code>12
7
</code></pre>

<h2 id="scalar-types">Scalar Types</h2>

<p>Rust has 4 scalar types: integers, floating-point numbers, booleans, and characters.  These are variables that hold one value, as apposed to an mroe complex type like array or list.</p>

<h3 id="integers">Integers</h3>

<p>The integer type is defined by bit size and signer or unsigned.  A signed integer type is prefixed by and <code>i</code>, as in <code>i8, i16, i32, i64 or isize</code>.   An unsigned integer is prefixed by <code>u</code>, as in <code>u8, u16, u32, u64 or usize</code>.  The <code>size</code> integers are dependent on the machine&rsquo;s addressing.  Most modern PCs and operating systems, this is 64-bit.  However, an embedded microcontroller might be an 8-bit or 16-bit system.  Older OSes are 32-bit systems.</p>

<p>A signed integer of bit size <code>n</code> will have a number range from <code>-(2^(n - 1))</code> to <code>2^(n - 1) - 1</code>.  So <code>i8</code> would be <code>-128 to 127</code>.  The method of storing the bits for signed integers is called <a href="https://en.wikipedia.org/wiki/Two%27s_complement">2&rsquo;s compliment</a>.  We loose one power of 2 in number range between signed and unsigned, as that bit is used to show positive or negative.</p>

<p>An unsigned integer of bit size <code>n</code> will have a number range from <code>0</code> to <code>2^n - 1</code>.  For <code>u8</code> we have <code>0 to 255</code>.</p>

<p>Python has two types of integers, a normal signed integer and a long number type.  Where a Rust integer can overflow and throw a panic, Python just converts into a long number type for an unlimited sized integer (with a performance hit).  This makes Python possible to solve some of the very long mathematical number problems, but at a slow speed.   This capability is possible in Rust, but requires using an external big numbers crate.</p>

<p>In our examples so far, we have not explicitly stated the Rust types we are using.  Default integer is <code>i32</code>, as this is usually the fastest (even on 64-bit systems).  This was what Rust made the first <code>count</code> variable above, until we were assigning it to the <code>len()</code> of the string.  Then it was made a <code>usize</code> type variable at compile.  Any time you are indexing or getting data from an index, you will receive a <code>usize</code>, because the address range is dependent on the bit size the computer memory is operating.</p>

<h3 id="floats">Floats</h3>

<p>Python only has a single type of float.  The size of it depends on if you used 32-bit or 64-bit Python.  In Rust, this is explicitly defined with <code>f32</code> and <code>f64</code> types.</p>

<h3 id="booleans">Booleans</h3>

<p>Python bool type was added in 2.3.  Prior to this, the property that evaluates other types to boolean were used, so most commonly a 1 or 0 were the boolean variable values.  Python&rsquo;s boolean values are <code>True</code> and <code>False</code>, with the Rust equivalent of <code>true</code> and <code>false</code>.</p>

<p>Lets look at Booleans in Python a little closer:</p>

<pre><code>&gt;&gt;&gt; type(False)
&lt;type 'bool'&gt;
</code></pre>

<p>Ok, so Python has a true boolean type, right?</p>

<pre><code>&gt;&gt;&gt; False + 2
2
&gt;&gt;&gt; type(False + 2)
&lt;type 'int'&gt;
</code></pre>

<p>Well soft of.  It is a C subtype of the int type and equal to 1 or 0.</p>

<pre><code>&gt;&gt;&gt; False == 0
True
&gt;&gt;&gt; True == 1
True
&gt;&gt;&gt; True - 1 == False
True
</code></pre>

<p>If you want to make enemies, add <code>True = 0</code> and <code>False = 1</code> into someone&rsquo;s code.</p>

<p>As mentioned before, Python will evaluate the following as false: <code>None</code>, <code>False</code>, zero in various numerical formats, empty sets and collections: <code>''</code>, <code>()</code>, <code>[]</code>, <code>{}</code>, <code>set()</code> and <code>range(0)</code>.</p>

<p>In Rust, bool is a proper type with no automatic type changes:</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{}&quot;</span>,<span style="color: #bbbbbb"> </span><span style="color: #006699; font-weight: bold">true</span><span style="color: #bbbbbb"> </span><span style="color: #555555">+</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">1</span>);<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<pre><code>error[E0369]: binary operation `+` cannot be applied to type `bool`
 --&gt; src/main.rs:2:20
  |
2 |     println!(&quot;{}&quot;, true + 1);
  |                    ^^^^^^^^
  |
  = note: an implementation of `std::ops::Add` might be missing for `bool`
</code></pre>

<p>For testing empty collections, we must explicitly call methods on the type.  However, since the type is both known and static, this is not an issue.  An example of this is a vector (which is Rust&rsquo;s version of a Python list).  To convert to boolean, we would just use <code>vector_variable.is_empty()</code>.  So you don&rsquo;t lose functionality or increase code too much, but you gain very explicit code.</p>

<p>I have introduced bugs into Python code by forgetting an explicit boolean expression I wanted in an <code>if</code>, and the automatic boolean conversion ran fine with incorrect logic.  These subtle issues are not possible in Rust, due to the truly strong typing of boolean.</p>

<h3 id="characters">Characters</h3>

<p>There is no character type in Python.  There exists only strings of length 1.  I don&rsquo;t fully understand the Unicode in both Python 3 and Rust.  Someone much smarter than me has made them to work, and I&rsquo;ll just use them.   But I know I can&rsquo;t expect them to be ASCII.  A character in Rust is a 4-byte Unicode Scalar Value.  If you know it is an ASCII value, you can convert into ASCII codes for the typical number to character conversion sometimes used in A-Z looping.</p>

<p>It is also worth noting that a single Unicode code point in a Rust String may not fit into a single character.  An example used on the Rust char documentation page is the emoticon ❤️having the value of two chars <code>\u{2764}\u{fe0f}</code>.</p>

<p>Once I start talking about iterators, we will see that we can iterate by chars(), similar to how Python allows iterators on a string with 1 character strings.</p>

<p>I should also point out that for most things in Python, <code>&quot;</code> amd <code>'</code> are interchangeable.  There are subtle differences, but they can often be swapped without any issue.   In Rust, a char is represented by the single quote, such as <code>'A'</code>.  A string must use a double quote as in <code>&quot;This is a string.&quot;</code>.</p>

<h2 id="complex-types">Complex Types</h2>

<p>I will not go very detailed into the complex types, but want to mention a few and their equivalents.</p>

<h3 id="tuple">Tuple</h3>

<p>Python and Rust&rsquo;s tuples are almost exactly the same.  An immutable list with the capability of storing different types.  Definition is also the same with parenthesis and commas.  I will go into special cases in Rust of tuples in a separate post.</p>

<h3 id="rust-array">Rust Array</h3>

<p>Rust has C-style fixed length arrays.  These are of a single type and the length is defined at creation.  Nothing exists for this in Python.</p>

<p>While type notation did come to Python with 3.6, it is required in Rust when it cannot be inferred.  For variable declaration, this comes with a colon after the variable name.  For example, the code we wrote above with type inference would be the same as writing the explicit <code>usize</code> type after a <code>:</code>.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span><span style="color: #006699; font-weight: bold">mut</span><span style="color: #bbbbbb"> </span>count: <span style="color: #007788; font-weight: bold">usize</span> <span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #FF6600">12</span>;<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>count<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Dracula&quot;</span>.len();<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>For the Rust Array, we use square brackets similar to C, with the type and number.  Below we have <code>x</code> equal to a 5 member array of <code>i32</code> integers, that is initialized to 5 different values.  The array <code>y</code> is a boolean with 1000 values, and we initialize all 1000 of these values to <code>true</code>.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>x: [<span style="color: #007788; font-weight: bold">i32</span>;<span style="color: #bbbbbb"> </span><span style="color: #FF6600">5</span>]<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span>[<span style="color: #555555">-</span><span style="color: #FF6600">1</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">0</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">1</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">2</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">3</span>];<span style="color: #bbbbbb"></span>
<span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>y: [<span style="color: #007788; font-weight: bold">bool</span>;<span style="color: #bbbbbb"> </span><span style="color: #FF6600">1000</span>]<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span>[<span style="color: #006699; font-weight: bold">true</span>;<span style="color: #bbbbbb"> </span><span style="color: #FF6600">1000</span>];<span style="color: #bbbbbb"></span>
</pre></div>


<h3 id="python-array-list-and-rust-vector">Python Array/List and Rust Vector</h3>

<p>While most will get started with a list, Python does have an array type.  This is a data structure with a single type, but dynamically allocated.  This allows growth after creation, but only members of a given type.</p>

<p>While it is common to use a Python list with a single data type, this is not a requirement of the list.  It can capture all types of objects.  This is not possible in Rust, without a little more advanced work.</p>

<p>If we assume a list full of integers, for simplicity.  (For better performance, you could use the Python array instead.)  In Python this is:</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>l <span style="color: #555555">=</span> [<span style="color: #FF6600">1</span>, <span style="color: #FF6600">2</span>, <span style="color: #FF6600">3</span>]
<span style="color: #006699; font-weight: bold">print</span>(l)
</pre></div>


<p>Output</p>

<pre><code>[1, 2, 3]
</code></pre>

<p>In Rust, we would have:</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>v<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span>vec<span style="color: #555555">!</span>[<span style="color: #FF6600">1</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">2</span>,<span style="color: #bbbbbb"> </span><span style="color: #FF6600">3</span>];<span style="color: #bbbbbb"></span>
println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{:?}&quot;</span>,<span style="color: #bbbbbb"> </span>v);<span style="color: #bbbbbb"></span>
</pre></div>


<p>Output</p>

<pre><code>[1, 2, 3]
</code></pre>

<p>We have a macro <code>vec!</code> that allows us to define a vector in very similar to Python notation otherwise.  Rust probably picked the default <code>i32</code> type, as we did not specify.</p>

<p>Notice the <code>{:?}</code> in the <code>println!</code>.  This is a debug formatter that is implemented with the <code>Debug</code> trait.  This is similar to Python&rsquo;s <code>__repr__</code>.  We will cover this more in traits.  However, it is useful to know if you want an object representation printed out.</p>

<p>This works for an empty list in Python, because type isn&rsquo;t important.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>l <span style="color: #555555">=</span> []
<span style="color: #006699; font-weight: bold">print</span>(l)
</pre></div>


<p>If we wanted to make an empty vector, would use a static method on the Vec struct: <code>Vec::new()</code>.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>v<span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #336666">Vec</span>::new();<span style="color: #bbbbbb"></span>
</pre></div>


<p>However, with an empty vector the Rust compiler has no data from which to infer type.</p>

<pre><code> --&gt; src/main.rs:2:13
  |
2 |     let v = Vec::new();
  |         -   ^^^^^^^^ cannot infer type for `T`
  |         |
  |         consider giving `v` a type
</code></pre>

<p>For many types, you will see the <code>&lt;T&gt;</code> notation for type.  We are saying that v is a <code>Vec</code> holding type <code>i32</code>.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>v: <span style="color: #336666">Vec</span><span style="color: #555555">&lt;</span><span style="color: #007788; font-weight: bold">i32</span><span style="color: #555555">&gt;</span><span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #336666">Vec</span>::new();<span style="color: #bbbbbb"></span>
</pre></div>


<p>It would work to call the macro with no values, but best practices is to call the <code>new</code> constructor when you want an empty object.  The double colon <code>::</code> is only used on the static methods.  Once you have a valid instance, you can use methods of the object.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span>v: <span style="color: #336666">Vec</span><span style="color: #555555">&lt;</span><span style="color: #007788; font-weight: bold">i32</span><span style="color: #555555">&gt;</span><span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span><span style="color: #336666">Vec</span>::new();<span style="color: #bbbbbb"></span>
println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{}&quot;</span>,<span style="color: #bbbbbb"> </span>v.len());<span style="color: #bbbbbb"></span>
</pre></div>


<p>Output</p>

<pre><code>0
</code></pre>

<h3 id="python-dictionary-and-rust-hashmap">Python Dictionary and Rust HashMap</h3>

<p>The functionality is similar between a Python Dictionary and the Rust HashMap.  However, the big difference is that types of the key and value must be defined for Rust.  Again, it is possible to work around this for values, but it is a little to complex to look at now and uses some thing we haven&rsquo;t learned yet.</p>

<p>HashMap isn&rsquo;t automatically available in Rust.  We will be using our first <code>use</code> statement, which is similar to Python&rsquo;s <code>import</code>.  This is part of Rust and not an external crate, it just isn&rsquo;t automatically included.</p>

<div class="highlight" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #006699; font-weight: bold">use</span><span style="color: #bbbbbb"> </span>std::collections::HashMap;<span style="color: #bbbbbb"></span>

<span style="color: #006699; font-weight: bold">fn</span> <span style="color: #CC00FF">main</span>()<span style="color: #bbbbbb"> </span>{<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span><span style="color: #006699; font-weight: bold">let</span><span style="color: #bbbbbb"> </span><span style="color: #006699; font-weight: bold">mut</span><span style="color: #bbbbbb"> </span>hm: <span style="color: #00AA88; font-weight: bold">HashMap</span><span style="color: #555555">&lt;</span><span style="color: #007788; font-weight: bold">u32</span>,<span style="color: #bbbbbb"> </span><span style="color: #555555">&amp;</span><span style="color: #007788; font-weight: bold">str</span><span style="color: #555555">&gt;</span><span style="color: #bbbbbb"> </span><span style="color: #555555">=</span><span style="color: #bbbbbb"> </span>HashMap::new();<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>hm.insert(<span style="color: #FF6600">1</span>,<span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Joe&quot;</span>);<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>hm.insert(<span style="color: #FF6600">8</span>,<span style="color: #bbbbbb"> </span><span style="color: #CC3300">&quot;Amy&quot;</span>);<span style="color: #bbbbbb"></span>
<span style="color: #bbbbbb">    </span>println<span style="color: #555555">!</span>(<span style="color: #CC3300">&quot;{:?}&quot;</span>,<span style="color: #bbbbbb"> </span>hm);<span style="color: #bbbbbb"></span>
}<span style="color: #bbbbbb"></span>
</pre></div>


<p>From <code>std::collections</code> we are using <code>HashMap</code>.  We create an empty <code>HashMap&lt;K, V&gt;</code> with key type of <code>u32</code> and value type of <code>&amp;str</code>, which is a string pointer.  Look for the Strings post to cover strings in more detail.  Since we have no macro for creation, like the vector&rsquo;s <code>vec!</code>, we cannot use a simple notation for a single line dictionary creation and loading.  So we make two calls to the HashMap <code>insert</code> method and provide key and values.  Then use the Debug trait of the HashMap to display the structure.</p>

<p>Output is similar to Python&rsquo;s dictionary notation.</p>

<pre><code>{8: &quot;Amy&quot;, 1: &quot;Joe&quot;}
</code></pre>

<p>There are many more data structures in both languages, but hopefully this gives you a feel for the most common ones.  We still have a few more topics to cover before we can start really writing code, but we are getting there.</p>

                                <hr/>
        <p>Part 3 of 4
            in the <b>Python to Rust</b> series.</p>
        <p><a href="http://www.joesacher.com/blog/2017/08/22/01-ptr-beginning/"><i class="fa fa-angle-left"></i>Series Start<i class="fa fa-angle-right"></i></a>
                     |
            <a href="http://www.joesacher.com/blog/2017/08/23/02-ptr-cargo-pip/"><i class="fa fa-angle-double-left"></i>Python to Rust: PIP to Cargo</a>
                 |
        <a href="http://www.joesacher.com/blog/2017/08/25/04-ptr-enum/">Python to Rust: Enum<i class="fa fa-angle-double-right"></i></a></p>
                             </div>
                        
                        
                        <div id="comments"><div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "joesachercom" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
                        

                    </div>
                    
                    

                    
                    <div class="col-md-3">
                        
<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            <li><a href="http://www.joesacher.com/categories/cooking" class="text-uppercase">cooking (2)</a>
            </li><li><a href="http://www.joesacher.com/categories/how-to" class="text-uppercase">how-to (5)</a>
            </li><li><a href="http://www.joesacher.com/categories/personal" class="text-uppercase">personal (9)</a>
            </li><li><a href="http://www.joesacher.com/categories/reviews" class="text-uppercase">reviews (14)</a>
            </li><li><a href="http://www.joesacher.com/categories/tech" class="text-uppercase">tech (27)</a>
            </li><li><a href="http://www.joesacher.com/categories/trans-am" class="text-uppercase">trans-am (42)</a>
            </li>
        </ul>
    </div>
</div>

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Blog Series</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            <li><a href="http://www.joesacher.com/series/hugo" class="text-uppercase">hugo (4)</a>
            </li><li><a href="http://www.joesacher.com/series/python-to-rust" class="text-uppercase">python-to-rust (4)</a>
            </li><li><a href="http://www.joesacher.com/series/trans-am" class="text-uppercase">trans-am (42)</a>
            </li>
        </ul>
    </div>
</div>
<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            <li><a href="http://www.joesacher.com/tags/android"><i class="fa fa-tags"></i> android</a>
            </li><li><a href="http://www.joesacher.com/tags/avr"><i class="fa fa-tags"></i> avr</a>
            </li><li><a href="http://www.joesacher.com/tags/bicycle"><i class="fa fa-tags"></i> bicycle</a>
            </li><li><a href="http://www.joesacher.com/tags/bicycle-touring"><i class="fa fa-tags"></i> bicycle-touring</a>
            </li><li><a href="http://www.joesacher.com/tags/book-review"><i class="fa fa-tags"></i> book-review</a>
            </li><li><a href="http://www.joesacher.com/tags/calendars"><i class="fa fa-tags"></i> calendars</a>
            </li><li><a href="http://www.joesacher.com/tags/cooking"><i class="fa fa-tags"></i> cooking</a>
            </li><li><a href="http://www.joesacher.com/tags/cycling"><i class="fa fa-tags"></i> cycling</a>
            </li><li><a href="http://www.joesacher.com/tags/dessert"><i class="fa fa-tags"></i> dessert</a>
            </li><li><a href="http://www.joesacher.com/tags/dry-bag"><i class="fa fa-tags"></i> dry-bag</a>
            </li><li><a href="http://www.joesacher.com/tags/ebooks"><i class="fa fa-tags"></i> ebooks</a>
            </li><li><a href="http://www.joesacher.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li><li><a href="http://www.joesacher.com/tags/fiction"><i class="fa fa-tags"></i> fiction</a>
            </li><li><a href="http://www.joesacher.com/tags/film-making"><i class="fa fa-tags"></i> film-making</a>
            </li><li><a href="http://www.joesacher.com/tags/google"><i class="fa fa-tags"></i> google</a>
            </li><li><a href="http://www.joesacher.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li><li><a href="http://www.joesacher.com/tags/ham-radio"><i class="fa fa-tags"></i> ham-radio</a>
            </li><li><a href="http://www.joesacher.com/tags/hugo"><i class="fa fa-tags"></i> hugo</a>
            </li><li><a href="http://www.joesacher.com/tags/humor"><i class="fa fa-tags"></i> humor</a>
            </li><li><a href="http://www.joesacher.com/tags/hvac"><i class="fa fa-tags"></i> hvac</a>
            </li><li><a href="http://www.joesacher.com/tags/inspiration"><i class="fa fa-tags"></i> inspiration</a>
            </li><li><a href="http://www.joesacher.com/tags/javascript"><i class="fa fa-tags"></i> javascript</a>
            </li><li><a href="http://www.joesacher.com/tags/lathes"><i class="fa fa-tags"></i> lathes</a>
            </li><li><a href="http://www.joesacher.com/tags/marriage"><i class="fa fa-tags"></i> marriage</a>
            </li><li><a href="http://www.joesacher.com/tags/navigation"><i class="fa fa-tags"></i> navigation</a>
            </li><li><a href="http://www.joesacher.com/tags/nonfiction"><i class="fa fa-tags"></i> nonfiction</a>
            </li><li><a href="http://www.joesacher.com/tags/pannier"><i class="fa fa-tags"></i> pannier</a>
            </li><li><a href="http://www.joesacher.com/tags/personal"><i class="fa fa-tags"></i> personal</a>
            </li><li><a href="http://www.joesacher.com/tags/photography"><i class="fa fa-tags"></i> photography</a>
            </li><li><a href="http://www.joesacher.com/tags/pizza"><i class="fa fa-tags"></i> pizza</a>
            </li><li><a href="http://www.joesacher.com/tags/podcasts"><i class="fa fa-tags"></i> podcasts</a>
            </li><li><a href="http://www.joesacher.com/tags/programming"><i class="fa fa-tags"></i> programming</a>
            </li><li><a href="http://www.joesacher.com/tags/projects"><i class="fa fa-tags"></i> projects</a>
            </li><li><a href="http://www.joesacher.com/tags/proposal"><i class="fa fa-tags"></i> proposal</a>
            </li><li><a href="http://www.joesacher.com/tags/python"><i class="fa fa-tags"></i> python</a>
            </li><li><a href="http://www.joesacher.com/tags/recipe"><i class="fa fa-tags"></i> recipe</a>
            </li><li><a href="http://www.joesacher.com/tags/recumbent"><i class="fa fa-tags"></i> recumbent</a>
            </li><li><a href="http://www.joesacher.com/tags/rust"><i class="fa fa-tags"></i> rust</a>
            </li><li><a href="http://www.joesacher.com/tags/safety"><i class="fa fa-tags"></i> safety</a>
            </li><li><a href="http://www.joesacher.com/tags/sewing"><i class="fa fa-tags"></i> sewing</a>
            </li><li><a href="http://www.joesacher.com/tags/touchpad"><i class="fa fa-tags"></i> touchpad</a>
            </li><li><a href="http://www.joesacher.com/tags/touring"><i class="fa fa-tags"></i> touring</a>
            </li><li><a href="http://www.joesacher.com/tags/video"><i class="fa fa-tags"></i> video</a>
            </li><li><a href="http://www.joesacher.com/tags/web"><i class="fa fa-tags"></i> web</a>
            </li><li><a href="http://www.joesacher.com/tags/webos"><i class="fa fa-tags"></i> webos</a>
            </li><li><a href="http://www.joesacher.com/tags/windows-phone"><i class="fa fa-tags"></i> windows-phone</a>
            </li><li><a href="http://www.joesacher.com/tags/woodworking"><i class="fa fa-tags"></i> woodworking</a>
            </li><li><a href="http://www.joesacher.com/tags/writing"><i class="fa fa-tags"></i> writing</a>
            </li>
        </ul>
    </div>
</div>

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        






<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2002-2017 - Joe Sacher - All Rights Reserved.</p>
            
            <p class="pull-right">A modified version of 
              template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>
              
              ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>




    </div>
    

    



<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-3718160-3', 'auto');
ga('send', 'pageview');
</script>


<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="http://www.joesacher.com/js/hpneo.gmaps.js"></script>
<script src="http://www.joesacher.com/js/gmaps.init.js"></script>
<script src="http://www.joesacher.com/js/front.js"></script>


<script src="http://www.joesacher.com/js/owl.carousel.min.js"></script>




  </body>
</html>
